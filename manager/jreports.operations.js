function pagreport(){var e=0,t=10,a=$("#tablereport");a.bind("repaginate",function(){a.find("tbody tr").hide().slice(e*t,(e+1)*t).show()}),a.trigger("repaginate");var d=a.find("tbody tr").length,r=Math.ceil(d/t);$("#rpager").remove();for(var n=$('<div id="rpager" class="pager"></div>'),o=0;r>o;o++)$('<span class="page-number"></span>').text(o+1).bind("click",{newPage:o},function(t){e=t.data.newPage,a.trigger("repaginate"),$(this).addClass("active").siblings().removeClass("active")}).appendTo(n).addClass("clickable");n.insertAfter(a).find("span.page-number:first").addClass("active")}function printreport(){var e=window.open("view/w-report.html","_blank");e.onload=function(){e.document.getElementById("rtitle").innerHTML="REPORTE DE VENTAS",e.document.getElementById("rdate").innerHTML="Fecha: "+today,e.document.title="reporte"+today;var t=document.getElementById("tablereport").lastChild;e.document.getElementById("tablereport").appendChild(t.cloneNode(!0)),e.print(),e.close()}}function chartreport(){}var dataString="",today;$(document).ready(function(){today=new Date;var e=today.getDate(),t=today.getMonth()+1,a=today.getFullYear();10>e&&(e="0"+e),10>t&&(t="0"+t),today=a+"-"+t+"-"+e,$("#edate").attr("value",today),$("#evdate").attr("value",today),today=a+"-"+t+"-01",$("#sdate").attr("value",today),$("#svdate").attr("value",today),$("#scode").val("00000"),$("#ecode").val("00000"),dataString="sdate="+$("#sdate").val()+"&edate="+$("#edate").val(),$("#exportreport").click(function(){$("#datos_a_enviar").val($("<div>").append($("#tablereport").eq(0).clone()).html()),$("#nameexport").val("reporte"),$("#FormularioExportacion").submit()})}),$("#sdate").change(function(){dataString="sdate="+$("#sdate").val()+"&edate="+$("#edate").val()}),$("#edate").change(function(){dataString="sdate="+$("#sdate").val()+"&edate="+$("#edate").val()}),$("#svdate").change(function(){dataString="svdate="+$("#svdate").val()+"&evdate="+$("#evdate").val()}),$("#evdate").change(function(){dataString="svdate="+$("#svdate").val()+"&evdate="+$("#evdate").val()}),$("#scode").change(function(){dataString="scode="+$("#scode").val()+"&ecode="+$("#ecode").val()}),$("#ecode").change(function(){dataString="scode="+$("#scode").val()+"&ecode="+$("#ecode").val()}),$("#genreport").click(function(){dataString+="&orderby=FECHAFACTURA&groupby=MONTH",$.ajax({type:"POST",url:"core/b-reports.php",data:dataString,cache:!1,success:function(e){dataString="";var t=jQuery.parseJSON(e);t.result&&($("#reportcommands").show(),$("#tablereport").show(),$("#tablereport tbody").empty(),$("#tablereport tbody").last().append(t.rows),pagreport())}})});